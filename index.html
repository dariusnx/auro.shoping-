<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Veyro Shop</title>
  <style>
    body {
      margin:0;
      font-family:sans-serif;
      background:#f8f8f8;
      color:#333;
      transition: background 0.3s, color 0.3s;
    }
    body.dark {
      background:#121212;
      color:#eee;
    }
    .navbar {
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:10px 20px;
      background:#222;
      color:#fff;
    }
    .logo {
      font-size:20px;
      font-weight:bold;
    }
    .controls {
      display:flex;
      align-items:center;
      gap:15px;
    }
    .profile-btn {
      background:#444;
      padding:5px 10px;
      border-radius:6px;
      cursor:pointer;
    }
    .cart {
      display:flex;
      align-items:center;
      background:#444;
      padding:5px 10px;
      border-radius:6px;
      cursor:pointer;
      position:relative;
    }
    .cart-count {
      position:absolute;
      top:-5px;
      right:-5px;
      background:red;
      color:#fff;
      border-radius:50%;
      font-size:12px;
      padding:2px 6px;
    }
    .toggle-pill {
      width:40px;
      height:20px;
      background:#666;
      border-radius:20px;
      position:relative;
      cursor:pointer;
    }
    .toggle-dot {
      width:16px;
      height:16px;
      background:#fff;
      border-radius:50%;
      position:absolute;
      top:2px;
      left:2px;
      transition: all 0.3s;
    }
    body.dark .toggle-dot {
      left:22px;
    }
    .products {
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
      gap:20px;
      padding:20px;
    }
    .product {
      background:#fff;
      border-radius:8px;
      padding:15px;
      box-shadow:0 2px 6px rgba(0,0,0,0.1);
      transition: transform 0.2s;
    }
    body.dark .product {
      background:#1e1e1e;
    }
    .product:hover {
      transform:scale(1.02);
    }
    .product h3 {
      margin-top:0;
    }
    .btn {
      background:#007bff;
      color:#fff;
      padding:8px 12px;
      border:none;
      border-radius:5px;
      cursor:pointer;
      margin-top:10px;
    }
    .btn:disabled {
      background:#aaa;
      cursor:not-allowed;
    }
    .cart-modal {
      position:fixed;
      top:0; left:0;
      width:100%; height:100%;
      background:rgba(0,0,0,0.7);
      display:none;
      justify-content:center;
      align-items:center;
    }
    .cart-content {
      background:#fff;
      color:#000;
      padding:20px;
      border-radius:8px;
      width:300px;
      max-height:80%;
      overflow:auto;
    }
    body.dark .cart-content {
      background:#1e1e1e;
      color:#fff;
    }
    .close-btn {
      float:right;
      cursor:pointer;
      font-weight:bold;
    }
    .checkout-btn {
      background:green;
      color:#fff;
      padding:8px 12px;
      border:none;
      border-radius:5px;
      cursor:pointer;
      margin-top:10px;
      width:100%;
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="logo">Veyro</div>
    <div class="controls">
      <div class="mode-toggle" onclick="toggleTheme()">
        <div style="font-size:12px;margin-right:6px" id="modeLabel">Light</div>
        <label class="toggle-pill"><div class="toggle-dot"></div></label>
      </div>
      <div class="profile-btn">Veyro</div>
      <div class="cart" onclick="openCart()">
        ðŸ›’ <div style="margin-left:8px">Cart</div>
        <div class="cart-count" id="cartCount">0</div>
      </div>
    </div>
  </nav>
  <div class="products" id="products"></div>

  <div class="cart-modal" id="cartModal">
    <div class="cart-content">
      <span class="close-btn" onclick="closeCart()">âœ–</span>
      <h3>Your Cart</h3>
      <div id="cartItems"></div>
      <button class="checkout-btn" onclick="checkout()">Checkout</button>
    </div>
  </div>

  <script>
    let darkMode=false;
    function toggleTheme(){
      darkMode=!darkMode;
      document.body.classList.toggle("dark",darkMode);
      document.getElementById("modeLabel").innerText=darkMode?"Dark":"Light";
    }

    const products=[
      {id:1,name:"Sneakers",price:59,stock:5},
      {id:2,name:"T-shirt",price:19,stock:10},
      {id:3,name:"Jeans",price:49,stock:0},
      {id:4,name:"Jacket",price:99,stock:2},
    ];

    let cart=[];

    function renderProducts(){
      const c=document.getElementById("products");
      c.innerHTML="";
      products.forEach(p=>{
        const div=document.createElement("div");
        div.className="product";
        div.innerHTML=`
          <h3>${p.name}</h3>
          <p>Price: $${p.price}</p>
          <p>${p.stock>0? (p.stock<=2? "Only "+p.stock+" left":"In stock: "+p.stock):"Out of stock"}</p>
          <button class="btn" onclick="addToCart(${p.id})" ${p.stock===0?"disabled":""}>Add to cart</button>
        `;
        c.appendChild(div);
      });
    }

    function addToCart(id){
      const p=products.find(x=>x.id===id);
      if(!p || p.stock<=0) return;
      p.stock--;
      let item=cart.find(x=>x.id===id);
      if(item){item.qty++;}else{cart.push({id:p.id,name:p.name,price:p.price,qty:1});}
      updateCartCount();
      renderProducts();
    }

    function updateCartCount(){
      const count=cart.reduce((a,b)=>a+b.qty,0);
      document.getElementById("cartCount").innerText=count;
    }

    function openCart(){
      document.getElementById("cartModal").style.display="flex";
      renderCart();
    }

    function closeCart(){
      document.getElementById("cartModal").style.display="none";
    }

    function renderCart(){
      const c=document.getElementById("cartItems");
      c.innerHTML="";
      if(cart.length===0){c.innerHTML="<p>Your cart is empty</p>"; return;}
      cart.forEach((item,i)=>{
        const div=document.createElement("div");
        div.innerHTML=`
          <div>${item.name} x${item.qty} - $${item.price*item.qty}
            <button onclick="removeFromCart(${i})">Remove</button>
          </div>
        `;
        c.appendChild(div);
      });
    }

    function removeFromCart(i){
      const item=cart[i];
      const p=products.find(x=>x.id===item.id);
      p.stock+=item.qty;
      cart.splice(i,1);
      updateCartCount();
      renderProducts();
      renderCart();
    }

    function checkout(){
      if(cart.length===0) return alert("Your cart is empty");
      cart=[];
      updateCartCount();
      renderProducts();
      renderCart();
      alert("Order placed! Thank you ðŸ˜Š");
      closeCart();
    }

    renderProducts();
  </script>
</body>
</html>
